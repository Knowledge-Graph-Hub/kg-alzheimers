name: 'alliance_gene_to_expression'

metadata: './monarch_ingest/alliance/metadata.yaml'

files:
  - './data/alliance/EXPRESSION_RGD.json.gz'
  - './data/alliance/EXPRESSION_MGI.json.gz'
  - './data/alliance/EXPRESSION_ZFIN.json.gz'
  - './data/alliance/EXPRESSION_FB.json.gz'
  - './data/alliance/EXPRESSION_WB.json.gz'
  - './data/alliance/EXPRESSION_SGD.json.gz'

format: 'json'

compression: 'gzip'

json_path:
  - 'data'

#
# Sample Alliance schema formatted JSON "data" array entry
#
#  {
#    "dateAssigned" : "2022-01-21T07:09:02-08:00",
#    "geneId" : "ZFIN:ZDB-GENE-031222-3",
#    "evidence" : {
#      "crossReference" : {
#        "id" : "ZFIN:ZDB-PUB-080616-21",
#        "pages" : [ "reference" ]
#      },
#    "publicationId" : "PMID:18544660"
#    },
#    "crossReference" : {
#      "id" : "ZFIN:ZDB-FIG-080908-4",
#      "pages" : [ "gene/expression/annotation/detail" ]
#    },
#    "assay" : "MMO:0000655",
#    "whenExpressed" : {
#      "stageName" : "Larval:Protruding-mouth",
#      "stageTermId" : "ZFS:0000035",
#      "stageUberonSlimTerm" : {
#        "uberonTerm" : "post embryonic, pre-adult"
#      }
#    },
#    "whereExpressed" : {
#      "whereExpressedStatement" : "whole organism",
#      "anatomicalStructureTermId" : "ZFA:0001094",
#      "anatomicalStructureUberonSlimTermIds" : [ {
#        "uberonTerm" : "Other"
#      } ]
#    }
#  }
#required_properties:
#  # Various nested JSON properties needed, but can't be specified yet (see also gene_to_phenotype.yaml)
#  # Target of Koza Issue https://github.com/monarch-initiative/koza/issues/80
#  - metaData.crossReference.id                # "ZFIN"
#  - geneId                                    # "ZFIN:ZDB-GENE-031222-3"
#  - whenExpressed.stageTermId                 # "ZFS:0000035"
#  - assay                                     # "MMO:0000655"
#  - whereExpressed.cellularComponentTermId    # "GO:0005737",
#  - whereExpressed.anatomicalStructureTermId  # "ZFA:0001094",
#  - crossReference.id                         # "ZFIN:ZDB-FIG-080908-4" => "https://zfin.org/ZDB-FIG-080908-4"
#  - evidence.publicationId                    # "PMID:18544660"

global_table: './monarch_ingest/translation_table.yaml'

#
# The Gene, Biolink Model LifeStage, CellularComponent and AnatomyEntity entities implied in
# the Biolink Model GeneToExpressionSiteAssociation relationships generated by this ingest
# are not directly generated here but assumed imported by other Monarch Ingest processes
#
# node_properties:
#  - 'id'
#  - 'name'
#  - 'category'
#  - 'source'

edge_properties:
  - 'id'
  - 'subject'
  - 'predicate'
  - 'object'
  - 'stage_qualifier'
  - 'category'
  - 'relation'
  - 'has_evidence'
  - 'publications'
  - 'provided_by'
  - 'source'

transform_mode: 'flat'
